(this.webpackJsonpdtradex=this.webpackJsonpdtradex||[]).push([[4],{242:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n.n(a),s=n(20),i=n(12),o=n(15),c=n(16),l=n(17),u=n(0),d=n(21),h=n(114),b=n(13),f=n(158),p=n(156),g=n(1),j=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).columns=[{key:"img",content:function(e){return Object(g.jsx)(b.b,{to:"/listing/details/".concat(e.listing._id),children:Object(g.jsx)("img",{className:"imaage",src:e.listing.images[0].url||p.a,alt:e.listing.title,style:v})})}},{path:"listing.title",label:"Title"},{path:"listing.price",label:"Price"},{key:"delete",content:function(t){return Object(g.jsx)("button",{onClick:function(){window.confirm("Are you sure to delete this record?")&&e.props.onDelete(t)},className:"btn btn-danger btn-sm btn--square",children:"Delete"})}}],e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.favorites;return Object(g.jsx)(f.a,{columns:this.columns,data:e})}}]),n}(u.Component),v={width:80,height:100,borderRadius:3,border:3,borderColor:"#fff",borderStyle:"solid"},m=j,O=n(99),x=n(54),y=n(157),k=n(159),C=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={favorites:[],currentPage:1,pageSize:4,numberOfPageButtons:8,sortColumn:{path:"title",order:"desc"},loading:!1},e.handleDelete=function(){var t=Object(s.a)(r.a.mark((function t(n){var a,s,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.favorites,s=a.filter((function(e){return e._id!==n._id})),i=Object(h.b)(s,e.state.currentPage,e.state.pageSize),e.setState({favorites:s,currentPage:i}),t.prev=4,t.next=7,O.a.deleteFavorite(n._id);case 7:t.next=13;break;case 9:t.prev=9,t.t0=t.catch(4),t.t0.response&&404===t.t0.response.status&&d.b.error("This favorite has already been deleted."),e.setState({favorites:a});case 13:case"end":return t.stop()}}),t,null,[[4,9]])})));return function(e){return t.apply(this,arguments)}}(),e.handlePageChange=function(t){e.setState({currentPage:t})},e.handleSort=function(t){e.setState({sortColumn:t})},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,O.a.getMyFavorites();case 3:t=e.sent,n=t.data,console.log(n),this.setState({favorites:n,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.pathname,t=this.state,n=t.pageSize,a=t.currentPage,r=t.numberOfPageButtons,s=t.loading,i=Object(h.c)(this.state,this.state.favorites,e),o=i.totalCount,c=i.data;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(y.a,{children:Object(g.jsxs)("div",{className:"col",children:[Object(g.jsx)(k.a,{name:"Bookmark",totalCount:o,noAddButton:"true"}),Object(g.jsx)(m,{favorites:c,onDelete:this.handleDelete}),s&&Object(g.jsx)(x.a,{}),Object(g.jsx)(h.a,{itemsCount:o,pageSize:n,currentPage:a,numberOfButtons:r,onPageChange:this.handlePageChange})]})})})}}]),n}(u.Component);t.default=C}}]);
//# sourceMappingURL=4.de0ad6b2.chunk.js.map